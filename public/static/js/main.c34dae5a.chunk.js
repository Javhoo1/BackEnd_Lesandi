(this.webpackJsonplesandiweb=this.webpackJsonplesandiweb||[]).push([[0],{24:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c(16),r=c.n(a),i=c(6),o=c(11),l=c(30),j=c(4),b="[ui] Open modal",d="[auth] Finish checking login state",u="[auth] Login",m="[auth] Logout",h={checking:!0},O={modalOpen:!1},x=Object(o.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{modalOpen:!0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{checking:!1});case d:return Object(j.a)(Object(j.a)({},e),{},{checking:!1});case m:return{checking:!1};default:return e}}}),p="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,f=Object(o.e)(x,p(Object(o.a)(l.a))),g=c(18),v=c(3),N=c(14),w=c(19),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(e),c=Object(N.a)(t,2),n=c[0],a=c[1],r=function(){a(e)},i=function(e){var t=e.target;a(Object(j.a)(Object(j.a)({},n),{},Object(w.a)({},t.name,t.value)))};return[n,i,r]},C=(c(40),c(12)),k=c.n(C),S=c(21),I="https://lesandiweb.herokuapp.com/api",E=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(I,"/").concat(e);return"GET "==c?fetch(n):fetch(n,{method:c,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},_=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(I,"/").concat(e),s=localStorage.getItem("token")||"";return"GET "==c?fetch(n,{method:c,headers:{"x-token":s}}):fetch(n,{method:c,headers:{"Content-type":"application/json","x-token":s},body:JSON.stringify(t)})},L=c(10),P=c.n(L),T=function(){return{type:d}},A=function(e){return{type:u,payload:e}},G=function(){return{type:m}},U=(c(24),function(){return Object(n.jsxs)("div",{className:"navbar  mb-4",children:[Object(n.jsxs)("a",{href:"/",class:"btn-navbar",children:[Object(n.jsx)("i",{class:"fa fa-arrow-circle-left"}),"Inicio"]}),Object(n.jsx)("span",{className:"navbar-span",children:"Lesandi"})]})}),D=function(){var e=Object(i.b)(),t=y({lUserName:"",lPassword:""}),c=Object(N.a)(t,2),s=c[0],a=c[1],r=s.lUserName,o=s.lPassword;return Object(n.jsxs)("body",{className:"bodyLogin",children:[Object(n.jsx)(U,{}),Object(n.jsx)("span",{className:"romboLogin"}),Object(n.jsx)("span",{className:"romboLogin"}),Object(n.jsx)("span",{className:"romboLogin"}),Object(n.jsx)("span",{className:"romboLogin"}),Object(n.jsx)("span",{className:"romboLogin"}),Object(n.jsx)("div",{className:"containerLogin",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 mt-5 mx-auto",children:[Object(n.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),""===r?P.a.fire("Error",'Campo "Nombre de usuario" vacio',"error"):""===o?P.a.fire("Error",'Campo "Contrase\xf1a" vacio'):void e((c=r,n=o,function(){var e=Object(S.a)(k.a.mark((function e(t){var s,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("auth",{user_name:c,password:n},"POST");case 2:return s=e.sent,e.next=5,s.json();case 5:(a=e.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(A({uid:a.uid,name:a.name}))):P.a.fire("Error",a.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var c,n},children:[Object(n.jsx)("h1",{className:"h1-login",children:"Inicia Sesi\xf3n"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"label-login",children:"Nombre de Usuario"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"lUserName",placeholder:"",onChange:a})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"label-login",children:"Contrase\xf1a"}),Object(n.jsx)("input",{type:"password",className:"form-control",name:"lPassword",placeholder:"",onChange:a})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",className:"btnSubmit",value:"Login"})})]}),Object(n.jsxs)("p",{children:["\xbfNo tienes cuenta?, ",Object(n.jsx)("a",{href:"Register",children:"Registrate aqu\xed."})]})]})})})]})},R=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).name;return Object(n.jsxs)("div",{className:"navbar span",children:[Object(n.jsxs)("span",{className:"navbar-span",children:["Bienvenido ",t]}),Object(n.jsxs)("button",{className:"btn-navbar",onClick:function(){e((function(e){localStorage.clear(),e(G())}))},children:[Object(n.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(n.jsx)("span",{children:" Salir"})]})]})},J=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(R,{}),Object(n.jsx)("div",{className:"div-titulo",children:Object(n.jsx)("p",{children:"\xa1EMPIEZA A JUGAR\xa1"})}),Object(n.jsx)("div",{className:"div-games-left",children:Object(n.jsx)("div",{class:"ih-item circle effect4 left_to_right div-circle",children:Object(n.jsxs)("a",{href:"#",children:[Object(n.jsx)("div",{class:"img div-img",children:Object(n.jsx)("img",{src:"num1.png"})}),Object(n.jsxs)("div",{class:"info div-info",children:[Object(n.jsx)("h3",{children:"Primer Grado"}),Object(n.jsx)("p",{children:"Con 3 niveles de dificultad"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{role:"button",class:"button-games",children:"Comenzar"})]})]})})}),Object(n.jsx)("div",{className:"div-games-center",children:Object(n.jsx)("div",{class:"ih-item circle effect4 left_to_right div-circle",children:Object(n.jsxs)("a",{href:"#",children:[Object(n.jsx)("div",{class:"img div-img",children:Object(n.jsx)("img",{src:"num2.png"})}),Object(n.jsxs)("div",{class:"info div-info",children:[Object(n.jsx)("h3",{children:"Segundo Grado"}),Object(n.jsx)("p",{children:"Con 3 niveles de dificultad"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{role:"button",class:"button-games",children:"Comenzar"})]})]})})}),Object(n.jsx)("div",{className:"div-games-right",children:Object(n.jsx)("div",{class:"ih-item circle effect4 left_to_right div-circle",children:Object(n.jsxs)("a",{href:"#",children:[Object(n.jsx)("div",{class:"img div-img",children:Object(n.jsx)("img",{className:"img-circle",src:"num3.png"})}),Object(n.jsxs)("div",{class:"info div-info",children:[Object(n.jsx)("h3",{children:"Tercer Grado"}),Object(n.jsx)("p",{children:"Con 3 niveles de dificultad"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{role:"button",class:"button-games",children:"Comenzar"})]})]})})})]})},z=(c(42),function(){var e=Object(i.b)(),t=y({rUserName:"",rName:"",rPassword1:"",rPassword2:"",rGrade:"",rInstitution:""}),c=Object(N.a)(t,2),s=c[0],a=c[1],r=s.rUserName,o=s.rName,l=s.rPassword1,j=s.rPassword2,b=s.rGrade,d=s.rInstitution;return Object(n.jsxs)("body",{children:[Object(n.jsx)(U,{}),Object(n.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),""===r||""===o||""===l||""===j||""===b?P.a.fire("Error","Campo(s) Vacio(s)","error"):l!==j?P.a.fire("Error","Contrase\xf1as no coinciden","error"):(console.log("?"),void e((c=r,n=o,s=l,a=b,function(){var e=Object(S.a)(k.a.mark((function e(t){var r,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("auth/new",{user_name:c,name:n,password:s,grade:a,institution:i},"POST");case 2:return r=e.sent,e.next=5,r.json();case 5:(o=e.sent).ok?(localStorage.setItem("token",o.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(A({uid:o.uid,name:o.name}))):P.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));var c,n,s,a,i},className:"form form-register",children:[Object(n.jsx)("h1",{className:"h1-register",children:"CREA TU CUENTA"}),Object(n.jsxs)("div",{className:"form-inputs",children:[Object(n.jsx)("label",{className:"label-register",children:"Ingresa tu nombre de usuario"}),Object(n.jsx)("input",{className:"form-input",type:"text",name:"rUserName",placeholder:"",value:r,onChange:a})]}),Object(n.jsxs)("div",{className:"form-inputs",children:[Object(n.jsx)("label",{className:"label-register",children:"Ingresa tu nombre"}),Object(n.jsx)("input",{className:"form-input",type:"text",name:"rName",placeholder:"",value:o,onChange:a})]}),Object(n.jsxs)("div",{className:"form-inputs",children:[Object(n.jsx)("label",{className:"label-register",children:"Ingresa tu contrase\xf1a"}),Object(n.jsx)("input",{className:"form-input",type:"password",name:"rPassword1",placeholder:"",value:l,onChange:a})]}),Object(n.jsxs)("div",{className:"form-inputs",children:[Object(n.jsx)("label",{className:"label-register",children:"Confirma tu contrase\xf1a"}),Object(n.jsx)("input",{className:"form-input",type:"password",name:"rPassword2",placeholder:"",value:j,onChange:a})]}),Object(n.jsxs)("div",{className:"form-inputs",children:[Object(n.jsx)("label",{className:"label-register",children:"Ingresa tu grado escolar"}),Object(n.jsxs)("select",{className:"form-control",name:"rGrade",value:b,onChange:a,children:[Object(n.jsx)("option",{children:"Selecciona"}),Object(n.jsx)("option",{value:"primer_grado",children:"Primer Grado"}),Object(n.jsx)("option",{value:"segundo_grado",children:"Segundo Grado"}),Object(n.jsx)("option",{value:"tercer_grado",children:"Tercer Grado"}),Object(n.jsx)("option",{value:"otro",children:"Otro"})]})]}),Object(n.jsxs)("div",{className:"form-inputs",children:[Object(n.jsx)("label",{className:"label-register",children:"Ingresa el nombre de tu escuela (opcional)"}),Object(n.jsx)("input",{className:"form-input",type:"text",name:"rInstitution",placeholder:"",value:d,onChange:a})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",className:"btnSubmit",value:"Crear cuenta"})}),Object(n.jsxs)("span",{className:"form-input-login",children:["\xbfYa tienes una cuenta? Inicia sesi\xf3n ",Object(n.jsx)("a",{href:"Login",children:"aqu\xed"})]})]})]})}),q=(c(43),c(44),function(){return Object(n.jsxs)("body",{children:[Object(n.jsx)("div",{className:"titulo-lesandi",children:"LESANDI"}),Object(n.jsx)("div",{className:"left-content",children:Object(n.jsx)("div",{className:"div-logo",children:Object(n.jsx)("div",{class:"div-widht-height ih-item circle colored effect18 ",children:Object(n.jsxs)("a",{href:"Home",children:[Object(n.jsx)("div",{class:"img-logo",children:Object(n.jsx)("img",{src:"Logo-Lesandi2.png",alt:"img"})}),Object(n.jsx)("div",{class:"info"})]})})})}),Object(n.jsx)("div",{className:"right-content-top",children:Object(n.jsx)("a",{className:"button-login-home",href:"login",children:"Iniciar Sesi\xf3n"})}),Object(n.jsx)("div",{className:"right-content-bottom",children:Object(n.jsx)("a",{className:"button-unete-home",href:"register",children:"Registrate"})}),Object(n.jsx)("div",{className:"h3-home",children:Object(n.jsx)("h3",{children:"Aprender nunca ha sido tan divertido"})}),Object(n.jsxs)("div",{class:"bubbles",children:[Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"}),Object(n.jsx)("div",{class:"bubble"})]})]})}),B=c(20),M=function(e){var t=e.isAuthenticated,c=e.component,s=Object(B.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(v.b,Object(j.a)(Object(j.a)({},s),{},{component:function(e){return t?Object(n.jsx)(v.a,{to:"/games"}):Object(n.jsx)(c,Object(j.a)({},e))}}))},V=function(e){var t=e.isAuthenticated,c=e.component,s=Object(B.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(v.b,Object(j.a)(Object(j.a)({},s),{},{component:function(e){return t?Object(n.jsx)(c,Object(j.a)({},e)):Object(n.jsx)(v.a,{to:"/login"})}}))},X=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),c=t.checking,a=t.uid;return Object(s.useEffect)((function(){e(function(){var e=Object(S.a)(k.a.mark((function e(t){var c,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("auth/renew");case 2:return c=e.sent,e.next=5,c.json();case 5:(n=e.sent).ok?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(A({uid:n.uid,name:n.name}))):t(T());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),c?Object(n.jsx)("h5",{children:"Cargando..."}):Object(n.jsx)(g.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(v.d,{children:[Object(n.jsx)(M,{exact:!0,path:"/",component:q}),Object(n.jsx)(M,{exact:!0,path:"/login",component:D,isAuthenticated:!!a}),Object(n.jsx)(M,{exact:!0,path:"/register",component:z,isAuthenticated:!!a}),Object(n.jsx)(V,{exact:!0,path:"/games",component:J,isAuthenticated:!!a}),Object(n.jsx)(v.a,{to:"/games"})]})})})},F=function(){return Object(n.jsx)(i.a,{store:f,children:Object(n.jsx)(X,{})})};r.a.render(Object(n.jsx)(F,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.c34dae5a.chunk.js.map